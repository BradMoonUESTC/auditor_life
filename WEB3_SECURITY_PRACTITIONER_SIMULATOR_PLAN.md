# Web3 Security Practitioner Simulator（扩展方案 vNext）

> 目标：把当前「Web3 Auditor 模拟器」扩展为「Web3 安全从业者模拟器」：你不再只能当独立审计师，还可以做更广泛的安全工作（研究/攻防/产品安全/应急/工具链/DevRel…），也可以加入公司、拿工资、背 OKR、值 on-call、卷晋升；并且与现有系统**深度融合**（周推进、工时/AP、直客/平台、事件/结算）。

---

## 1. 核心体验（Pillars）

- **更真实的安全职业生态**：独立接单/平台赛道只是其中一种；加入公司后会出现 OKR、需求排期、跨团队沟通、上线压力、合规、舆情与事故复盘。
- **选择的代价**：高强度爆肝可以短期冲产出，但会带来长期损耗（精力/心态/健康/关系/名誉/合规）。  
- **安全能力成长是“路径依赖”**：不同轨道提升不同技能组合，机会与风险随之变化。
- **一个世界，多种赛道相互影响**：平台成绩影响入职 offer；公司事故影响个人声誉；研究公开影响平台去重与直客议价；工具/自动化影响单位产出。

---

## 2. 世界观与身份（你是谁）

玩家的“身份”从单一审计师扩展为 **Web3 安全从业者（Security Practitioner）**，可在任意时刻处于以下身份组合：

- **自由职业（Independent）**
  - 直客审计（现有）
  - 平台竞赛（现有）
  - Bug bounty / CTF-like（新增）
  - 研究输出（博客/论文/PoC/工具开源）（增强）
- **公司从业（Employed）**
  - 产品安全/应用安全（Product/AppSec）
  - 协议安全/审计团队（Protocol Security / Audit Team）
  - 安全工程/监控与响应（SecEng / On-chain Monitoring / IR）
  - 形式化/验证（Formal）
  - 安全 DevRel / 社区（DevRel）

> 设计原则：不做“职业选择=重开档”，而是**可切换的生活状态**：入职≠不能接平台；离职≠失去技能；但会触发合规/利益冲突/精力约束等现实后果。

---

## 3. 时间与主循环（沿用周推进骨架）

仍采用当前主循环：

- **每周**：选择本周工时（6–24h/天）→ 获得行动点上限 → 分配行动点 → 项目/任务推进 → 事件 → 结算 → 下一周

新增一个“职业结算层”并插入到周末结算：

- **公司/职业结算**（新增）
  - 工资/奖金/股票归属（cashflow）
  - OKR 进度、绩效评估、晋升/裁员风险
  - On-call 压力与事故概率
  - 合规/利益冲突检查（尤其是入职后参加平台/直客）

---

## 4. 核心资源与属性（扩展现有 stats）

在现有基础属性（skill/comms/writing/tooling/stamina/mood/cash/reputation/compliance/network/platformRating）上，扩展为**可解释的技能域**：

### 4.1 技能域（Skill Domains）

- **Protocol Skill（协议/审计能力）**：现有 `skill`
- **Engineering（工程能力）**：新增（写代码/修复/PR/测试/CI）
- **Research（研究能力）**：新增（新型攻击面/原创性/推导）
- **IR/Defense（应急与防御）**：新增（监控、告警、处置、回滚、复盘）
- **Formal（形式化/验证）**：新增（规约、模型、证明/工具）
- **Writing & Comms**：现有 `writing/comms`
- **Tooling**：现有 `tooling`

> 说明：不要一次性全加满 UI；先在方案里定义清楚，落地时可分阶段把“隐藏技能”逐步显性化。

### 4.2 职业状态（Career State）

新增：

- `employment`：当前是否在职、公司信息、职级、薪资、on-call 轮值、绩效压力
- `conflictOfInterest`：利益冲突风险（在职做外部审计/平台、接触敏感信息等）
- `brand`：个人品牌/影响力（可与 `reputation` 区分：声望=行业评价；品牌=公众曝光）

### 4.3 “公司内评价 vs 行业内名声”分离（新增）

> 你提到的典型矛盾：**研究 AI 审计**在行业很火、外部名声很有用，但在某些公司（例如交易所）内部 KPI 体系里可能“没用”甚至被视为“不务正业”。

- **公司内评价**：由 `employment.performance / trust / OKR` 主导（更看“眼前能交付什么/是否服从流程/是否帮领导挡锅”）
- **公司外名声**：由 `reputation / brand / X 传播` 主导（更看“你是否及时输出、是否有洞察、是否带来行业影响力”）

---

## 6. 动作系统（Actions）如何与现有深度融合

---

## 5. “工作来源/任务池”系统（把直客/平台扩展成多渠道）

把“接单渠道”抽象为多种 **Work Sources**，每种来源对应不同任务结构与结算方式：

### 5.1 直客（Direct Client）— 现有增强
- 交付物：报告 + 复测门槛（现有）
- 新增：客户修复协作、上线压力、法律条款、付款风险、舆情

### 5.2 平台（Sherlock/C4/Cantina 抽象）— 现有增强
- 发现 → 提交 → 评审/去重 → 申诉（现有）
- 新增：团队参赛/合伙分成、PR 证明、声誉标签（“写得好/证据强/爱申诉”）

### 5.3 Bug Bounty / Live Target（新增）
- 形式：持续目标 + 小额高频结算
- 机制：重复率高、需要写 PoC/复现、范围限制严格
- 风险：误报/违规测试→合规风险飙升

### 5.4 公司内部任务（新增）
- 形式：Ticket/OKR/项目里程碑
- 任务类型：
  - 设计评审（Threat modeling / Design review）
  - 代码审查（PR review / secure coding）
  - 安全基建（监控、告警、风控规则）
  - 应急响应（IR）
  - 安全培训（Security champion）
  - 合规与审计对接（Compliance）
- 结算：绩效、晋升、稳定现金流；但**不直接换奖金**（更像长期收益）

---

## 6. 动作系统（Actions）如何与现有深度融合

保留现有动作（audit/model/write/retest/comms/submit/blog/learn/rest/compliance），并扩展为“安全从业者动作库”。

### 6.1 动作分组（建议）

- **进攻/发现类（Offense/Discovery）**
  - 审计代码（audit）
  - 推理/建模（model）
  - 写 PoC（新增：更偏工程/研究）
  - 复测（retest）
  - 平台提交（submit）
  - Bounty 提交（新增：带合规校验）

- **调查/情报类（Investigation/Intel）**（新增，贴近现实）
  - 事件分析（Incident analysis）：读链上/链下信息、还原攻击路径、总结 root cause
  - 资金追踪（Fund tracing）：标注地址、画资金流向、写追踪简报（可影响声望/关系网/合规）
  - 威胁情报跟踪（Threat intel）：跟踪攻击团伙、订阅安全通告、维护“攻击面清单”
  - 复盘撰写（Postmortem）：把事故写清楚（写作/沟通提升，降低下次同类事故概率）

- **防守/工程类（Defense/Engineering）**
  - 修复/提 PR（新增：工程技能）
  - 写测试/CI（新增：降低事故概率）
  - 部署监控规则（新增：IR/Defense）
  - 写 runbook（新增：写作+防守）

- **协作/会议类（Meetings/Collaboration）**（新增，符合公司生活）
  - 参加评审会（Design review / Security review）：影响“上线风险/事故概率”，消耗心态
  - 安全培训/宣讲（Workshop）：提升内部影响力与关系网（但耗时）
  - 跨团队对齐（Stakeholder sync）：缓解“安全是 blocker”矛盾，降低范围蔓延与扯皮
  - 供应商/外包对接（Vendor mgmt）：省精力但增加合规/质量不确定性（可触发事件）

- **影响力/职业类（Career/Influence）**
  - 沟通/范围管理（comms）
  - 写报告/写文档（write）
  - 发动态/公开研究（blog）+ 新增：演讲/Workshop
  - 内部汇报/对齐 OKR（新增：comms）
  - 面试/跳槽/谈 offer（新增：network+brand）

- **个人研究（Personal Research）**（新增，单独成赛道）
  - 研究 AI 审计/LLM 安全工具：做 benchmark、写规则、做 demo
  - 写研究笔记/论文式长文：外部声誉与影响力更强
  - 研究成果产品化：做成内部工具/流程（把“外部热”转成“内部也认可”）
  - 内部分享会（Brown bag）：如果公司文化支持，会提升内部评价；如果不支持，可能触发政治/PUA 事件

- **运营/治理类（Ops/Governance）**（新增，Web3 特有）
  - 安全公告/Advisory（含 CVE 风格）：写清影响面与修复建议（写作+声望）
  - 协调披露（Coordinated disclosure）：时间线管理（合规风险下降但可能牺牲曝光）
  - 治理提案安全审查（Governance review）：降低“上线即事故”概率（偏协议安全）
  - 风险评估（Risk assessment）：给出上线/禁用/限额建议（影响“ship urgency”与声誉）

- **恢复/保命类（Sustainability）**
  - 休息（rest）
  - 合规/法务（compliance）
  - “断网日”（新增：强恢复但影响产出/声誉）

### 6.2 动作与收益的“直觉映射”（方便后续落地）

> 先给出方向感：每个动作主要影响什么；实现时再映射到具体字段/概率。

- **事件分析/资金追踪/复盘**：
  - **收益**：声望↑、关系网↑、合规风险↓（做得规范）、公司信任↑
  - **代价**：精力/心态消耗中等；爆肝时容易触发 burnout 事件
- **参加评审会/跨团队对齐**：
  - **收益**：上线风险↓、范围蔓延↓、公司绩效↑
  - **代价**：行动点消耗但“产出不可见”，容易心态波动（更真实）
- **写公告/协调披露**：
  - **收益**：写作/声望↑；合规风险↓；但可能引来舆情事件
  - **代价**：时间 + 需要平衡公开与公司/客户利益

### 6.2 动作成本与进度（沿用你现在的动态成本思想）

继续使用“项目复杂度/漏洞 backlog/工时”驱动动态成本，但扩展到更多任务：

- 复杂度越高：审计/建模/修复更耗 AP
- backlog 越多：写报告/写复现/写测试更慢
- 工时越极端：AP 上限高但周末损耗更大
- 在职状态：外部项目的行动可能额外增加 `conflictOfInterest`

---

## 7. 公司系统（Employed Mode）— 新增大模块

### 7.1 公司属性（Company）

- 行业：交易所/DeFi/NFT/Infra/L2/Bridge…
- 成熟度：安全预算、流程成熟度、工程质量
- 上线节奏：ship urgency（公司层）
- 合规环境：监管压力与审计频率
- 舆情风险：品牌敏感度（事故更容易爆）

> 默认世界设定（已确认）：**交易所更严格**（合规强、外部接单更容易触发利益冲突链），**安全公司相对更自由**；工资与外部收入期望值 **约 50/50**（稳定底盘 + 波动上限）。

### 7.2 职级与成长（Levels）

示例职级：

- L1 安全实习/初级
- L2 安全工程师
- L3 高级
- L4 Staff/Lead
- L5 Head/Partner（公司内）或“Security Evangelist”（行业内）

晋升条件由“产出 + 事故控制 + 影响力 + 协作”组成，而不是单纯找洞数量。

### 7.3 OKR/绩效（Performance）

OKR 例子：

- 上线前评审覆盖率 ≥ X%
- 高危响应时长 ≤ Y
- 关键模块测试覆盖率/安全检查通过率提升
- 安全培训/Champion 网络建设

绩效风险：

- 事故频发、沟通差、合规翻车、被产品/研发抵触

### 7.4 On-call / IR（应急响应）

机制：

- 某些周进入 on-call：更高的事件触发率、更高的压力/掉心态
- 但处理得好：声望/内部评价/奖金上升

---

## 8. 事件系统（Events）扩展方向

在现有“范围蔓延/背书/去重海啸/透支”等基础上，增加职业生态事件：

- **公司政治/流程**
  - “安全是 blocker”争论（沟通 vs 合规）
  - 需求插队：热修/紧急上线（ship urgency）
  - 预算砍掉工具/监控（tooling vs 风险）

- **攻防与研究**
  - 0day 传闻：要不要公开？何时公开？（品牌/合规/伦理）
  - 竞赛撞车：要不要联合署名？（收益 vs 名誉）

- **合规与灰色地带**
  - Bounty 越界测试警告
  - 利益冲突（在职接外部审计/竞赛）

- **生活与身心**
  - 长期睡眠不足 → 事故概率上升
  - “朋友婚礼/家人生病/搬家”——现实打断

### 8.1 重大安全事件（Major Incidents，低频但高影响）— 新增重点

> 目标：做出“安全从业者的时代感”：不定时发生大事件；谁能更快做出靠谱分析并公开输出，谁就能收割声望与职场加分。

- **触发**：低频随机（比如每 8–20 周一次，或牛市/高热度期更频繁）
- **表现**：以“全行业事件”形式出现（桥被打、预言机事故、权限泄露、治理攻击等）
- **玩法**：
  - 事件出现后会进入一个 **时效窗口（例如 1–2 周）**
  - 你可以选择投入行动点做：
    - 事件分析（Incident analysis）
    - 资金追踪（Fund tracing）
    - 写简报/报告（Write-up）
    - 发 X thread（X/推特：快速传播）
  - **越快完成输出**：
    - **个人声望/品牌**奖励越高
    - 若你在职：**上级观感/绩效**也会更好（“及时止血/及时对外解释”）
  - **做得很慢/乱发**：
    - 奖励衰减，甚至触发“误导/被打脸”的负面事件（声望下降、信任下降）

---

## 8.2 “交易所职场恶心要素”（组织政治/绩效邪教）— 作为系统+事件链注入

> 你提到的 YH（以及类似交易所）内部生态：阿里味/PUA/向上管理/甩锅、按代码行数看绩效、无意义重构、用年会/奖金做威胁。  
> 设计原则：这些不是单条搞笑事件，而是**可积累的系统压力**，并通过事件链影响：精力/心态、绩效、信任、以及你是否选择“对抗/躺平/向上管理/离职”。

- **组织政治（Politics）**：你越想“做正确的事”，越要花精力处理“谁背锅/谁露脸/谁写周报”
- **绩效邪教（Vanity KPIs）**：用“代码行数/重构量/日报密度”替代真实安全产出
- **向上管理 NPC（PUA Manager）**：会推责任、push、抢功，逼你用时间做“看起来很忙”的事
- **反制手段（也是选择）**：
  - 你可以学会向上管理/记录证据/公开透明（减少甩锅）
  - 或者把研究/工程成果“包装成 KPI 语言”（把外部价值转成内部认可）
  - 或者最终选择跳槽/做自由职业（外部声誉路线更爽，但现金流波动/合规风险上升）

---

## 9. 结局系统（多结局，横跨“独立/公司/行业”）

正向：
- **公司路线：安全负责人/Staff**（事故率低、推动流程、内部影响力强）
- **研究路线：安全研究员/evangelist**（高影响力、工具/论文、社区地位）
- **审计路线：合伙人/顶级外部团队**（现金流+品牌+稳定交付）
- **攻防路线：bounty king / incident slayer**（高风险高收益）

负向：
- **Burnout**（精力/心态归零）
- **合规翻车**（违规测试/利益冲突/监管）
- **声誉破产**（重大误报/事故背锅）
- **被裁/失业**（绩效/事故/市场寒冬）

---

## 10. 与现有实现（MVP）如何融合（落地路线图）

> 你现在的代码结构已经模块化（`src/main.js / logic.js / events.js / state.js / ui.js`），非常适合按模块逐步扩展。

### vNext-0.3（最小可玩扩展）

- 新增 **“职业选择/入职”**：多一个 market：`jobOffers`
- 新增 **employment 状态**（薪资/职级/on-call 标记）
- 新增 **公司任务池**（tickets）并复用动作系统推进
- 结算：工资到账、绩效条变化

### vNext-0.4（深度融合）

- 在职也能做平台/直客，但引入 **利益冲突风险** 与事件链
- 加入 **IR/on-call**：某周事件更高、收益也更高

### vNext-0.5（职业生态完整化）

- Bug bounty 模式 + 合规边界
- 研究公开 → 影响平台去重/直客议价/公司风评
- 团队/部门协作、工具链投入、晋升系统

---

## 11. UI 建议（与现有页面融合）

不推翻现有 UI，只新增几个 tab/子面板：

- 工作台：当前目标（可切换：直客/平台/公司票）
- 新增 tab：**职业/公司**
  - 公司概况、薪资、OKR、on-call、团队关系
- 新增 tab：**Bounty**
- 已有：社区/声望（保留）+ X 时间线（保留，作为“行业噪音层”）

---

## 12. 术语对照（方便你/我以后改）

- “项目”不再只指审计项目：统一叫 **Work Item**
  - DirectProject / PlatformContest / CompanyTicket / BountyTarget
- “结算”拆成三段：
  - Work settlement（交付/奖金）
  - Event settlement（事件选择）
  - Career settlement（工资/绩效/on-call/合规）

---

## 13. 下一步你确认的两个设计决策（建议你拍板）

### 已确认（来自你的选择）

1) **入职后外部接单是否允许？**  
   - ✅ 允许：但会引入 **利益冲突风险（Conflict of Interest）事件链**、合规后果与公司信任波动。

2) **公司路线的“爽点”是什么？**  
   - ✅ 两个都要：既要 **稳定现金流 + 晋升** 的长期收益，也要 **事故处理/防守体系建设** 的即时成就感。

> 我已经把它们写成可落地的系统规格草案：`WEB3_SECURITY_PRACTITIONER_SIMULATOR_SPEC.md`（字段、公式、事件链、页面结构、落地拆分点）。

