<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web3 项目开发大亨</title>
    <meta name="description" content="Web3 项目开发大亨：连续时间推进的经营模拟（纯前端）。" />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='14' fill='%237c5cff'/%3E%3Ctext x='32' y='42' font-size='34' text-anchor='middle'%3E%F0%9F%94%A7%3C/text%3E%3C/svg%3E" />
    <link rel="stylesheet" href="./styles.css?v=63" />
  </head>
  <body>
    <header class="topbar">
      <div class="topbar__left">
        <div class="brand">
          <div class="brand__title">Web3 项目开发大亨</div>
          <div class="brand__sub" id="timeLabel">—</div>
        </div>
      </div>
      <div class="topbar__center">
        <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:center;">
          <button class="btn btn--primary btn--pill btn--cta" data-ui="createProject">立项</button>
          <div class="chips" id="topDevScores" style="align-items:center;"></div>
        </div>
      </div>
      <div class="topbar__right">
        <div class="chips" style="align-items:center;max-width:min(44vw,640px);">
          <span class="chip chip--warn" id="topProgress">连续时间 · 按周结算</span>
        </div>
        <div class="chips" style="align-items:center;">
          <button class="btn btn--ghost btn--pill" data-ui="recipeBook" id="recipeBookBtn">配方表</button>
          <button class="btn btn--ghost btn--pill" data-menu="inbox">事件</button>
          <button class="btn btn--ghost btn--pill" data-menu="news">日志</button>
        </div>
        <button class="btn btn--ghost" data-ui="newGame">新档</button>
        <button class="btn btn--ghost" data-ui="saveGame">保存</button>
        <button class="btn btn--ghost" data-ui="resetGame">重置</button>
      </div>
    </header>

    <main class="layout" id="layoutRoot">
      <aside class="panel" id="leftPanel">
        <section class="card">
          <div class="card__title">名片</div>
          <div class="profile">
            <div class="profile__avatar" aria-hidden="true">🔧</div>
            <div class="profile__meta">
              <div class="profile__name" id="playerName">—</div>
              <div class="profile__desc" id="playerTitle">—</div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card__title">核心指标</div>
          <div class="stats" id="stats"></div>
        </section>

        <section class="card">
          <div class="card__title">时间推进</div>
          <div class="ap">
            <div class="ap__value">
              <span>连续时间</span> · <span id="timeSpeedLabel">x1</span>
            </div>
            <div class="ap__hint muted" style="margin-top:8px;">
              <span>速度：</span>
              <select id="timeSpeed" class="select">
                <option value="0.5">x0.5</option>
                <option value="1" selected>x1</option>
                <option value="2">x2</option>
                <option value="4">x4</option>
                <option value="8">x8</option>
              </select>
            </div>
            <div class="ap__hint muted" style="margin-top:8px;">时间会连续走动；内部按“周”结算指标与事件。</div>
            <button class="btn btn--primary btn--block" data-ui="toggleTime">开始</button>
          </div>
        </section>

      </aside>

      <div class="vsplit" data-split="left" role="separator" aria-orientation="vertical" tabindex="0" title="拖拽调整左侧栏宽度"></div>

      <section class="content">
        <nav class="tabs" role="tablist" aria-label="Main navigation">
          <button class="tab is-active" data-tab="dashboard" role="tab" aria-selected="true">总览</button>
          <button class="tab" data-tab="team" role="tab" aria-selected="false">团队</button>
          <button class="tab" data-tab="research" role="tab" aria-selected="false">研发/引擎</button>
          <button class="tab" data-tab="ops" role="tab" aria-selected="false">运营</button>
          <button class="tab" data-tab="help" role="tab" aria-selected="false">说明</button>
        </nav>

        <div class="grid">
          <section class="card card--main" id="tab-dashboard" data-tab-panel="dashboard" role="tabpanel">
            <div class="card__title">总览</div>
            <div id="dashboard"></div>
          </section>

          <section class="card card--main is-hidden" id="tab-team" data-tab-panel="team" role="tabpanel">
            <div class="card__title">团队</div>
            <div class="muted">岗位对口很关键：产品/设计/机制/合约/运维/安全/增长/合规。</div>
            <div class="list" id="teamList" style="margin-top:10px;"></div>
            <div class="divider"></div>
            <div class="subhead">招聘</div>
            <div class="list" id="hireMarket" style="margin-top:10px;"></div>
          </section>

          <section class="card card--main is-hidden" id="tab-research" data-tab-panel="research" role="tabpanel">
            <div class="card__title">研发 / 引擎</div>
            <div id="researchPanel"></div>
          </section>

          <section class="card card--main is-hidden" id="tab-ops" data-tab-panel="ops" role="tabpanel">
            <div class="card__title">上线后运营</div>
            <div class="muted">上线后可以持续调参：手续费、回购、排放、激励预算等，并在每周结算里看到 DAU/TVL/收入/利润变化。</div>
            <div id="opsPanel" style="margin-top:10px;"></div>
          </section>

          <section class="card card--main is-hidden" id="tab-help" data-tab-panel="help" role="tabpanel">
            <div class="card__title">说明（MVP）</div>
            <div class="prose">
              <p><b>核心</b>：像《游戏开发大亨》一样做“项目→阶段配方→发售/上线→反馈循环”，但换成 Web3 产品：用 <b>DAU/留存/TVL/Volume/Fees/利润</b> 做持续结算。</p>
              <ul>
                <li><b>三阶段开发</b>：阶段 1（产品/架构）→ 阶段 2（开发实现）→ 阶段 3（上线准备：安全/监控/合规）。</li>
                <li><b>阶段配方</b>：每阶段的滑条会影响最终评分与指标上限；不同项目类型有不同偏好。</li>
                <li><b>研发/引擎</b>：攒技术点升级引擎版本，抬高质量上限并降低翻车概率。</li>
                <li><b>连续时间</b>：时间条持续走动；内部按周结算（不打断，除非弹阶段配置）。</li>
              </ul>
            </div>
          </section>
        </div>
      </section>

      <aside class="panel" id="rightPanel">
        <section class="card">
          <div class="card__title">运营（常驻）</div>
          <div class="muted">任意页面可调参；按“天”结算更直观。</div>
          <div id="opsPanelFixed" style="margin-top:10px;"></div>
        </section>
      </aside>
    </main>

    <div class="menuOverlay is-hidden" id="menuOverlay" aria-hidden="true">
      <div class="menuOverlay__backdrop" data-ui="closeMenus" aria-hidden="true"></div>
      <div class="menuPanel is-hidden" id="menu-inbox" role="dialog" aria-label="事件">
        <section class="card">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
            <div class="card__title">事件</div>
            <button class="btn btn--ghost" style="padding:6px 10px;font-size:12px;" data-ui="closeMenus">关闭</button>
          </div>
          <div class="muted">每周会刷出 0~2 条可选事件：不处理也不会卡流程，但会错过机会（或少一次止损）。</div>
          <div class="list" id="inbox" style="margin-top:10px;"></div>
        </section>
      </div>
      <div class="menuPanel is-hidden" id="menu-news" role="dialog" aria-label="日志">
        <section class="card">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
            <div class="card__title">日志</div>
            <button class="btn btn--ghost" style="padding:6px 10px;font-size:12px;" data-ui="clearLog">清空</button>
          </div>
          <div class="muted">每周结算、立项、研发、上线都会记录在这里。</div>
          <div class="feed" id="log" style="margin-top:10px;"></div>
        </section>
      </div>
    </div>

    <div class="modal is-hidden" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal__backdrop" data-ui="closeModal"></div>
      <div class="modal__panel">
        <div class="modal__title" id="modalTitle">—</div>
        <div class="modal__body" id="modalBody"></div>
        <div class="modal__actions" id="modalActions"></div>
      </div>
    </div>

    <script type="module" src="./src/main.js?v=63"></script>
  </body>
</html>

